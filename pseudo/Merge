START

function mergeSort(array, n):
    if n < 2:
        return

    mid = n // 2
    left = array[0:mid]
    right = array[mid:n]

    mergeSort(left, mid)
    mergeSort(right, n - mid)

    merge(array, left, right, mid, n - mid)


function merge(array, left, right, leftSize, rightSize):
    i = 0    // index for left
    j = 0    // index for right
    k = 0    // index for main array

    while i < leftSize and j < rightSize:
        if left[i] <= right[j]:
            array[k] = left[i]
            i = i + 1
        else:
            array[k] = right[j]
            j = j + 1
        k = k + 1

    while i < leftSize:
        array[k] = left[i]
        i = i + 1
        k = k + 1

    while j < rightSize:
        array[k] = right[j]
        j = j + 1
        k = k + 1

END